// CardFlowLineMirrored.tsx
import React, { useRef } from 'react';
import { motion, useScroll, useTransform } from 'framer-motion';

const CardFlowLineMirrored = () => {
    const ref = useRef<HTMLDivElement>(null);

    const { scrollYProgress } = useScroll({
        target: ref,
        offset: ["start end", "end start"]
    });

    const pathLength = useTransform(scrollYProgress, [0, 1], [0, 1]);

    // Dein komplexer organischer Pfad - gespiegelt!
    const pathData = `M1.89,5.39c24.83-3.35,50.05-3.08,74.89.01,12.54,1.56,24.99,3.86,37.3,6.71,1.52.35,3.04.71,4.56,1.08,1.17.28,2.58.43,3.61.98.8.42,1.48,1.03,2.3,1.42,1.06.5,2.34.65,3.48.94,5.37,1.37,10.69,2.91,15.96,4.62,20.5,6.65,40.06,15.92,58.48,27.09,18.68,11.33,36.47,24.41,52.72,39.02s30.5,30.27,43.8,47.13,25.13,34.3,36.6,52.19c5.84,9.11,11.56,18.3,17.25,27.51,2.87,4.65,5.74,9.3,8.61,13.95s5.76,9.79,9.03,14.39c3.49,4.92,6.89,9.91,10.36,14.86.83,1.18,1.69,2.34,2.5,3.54.86,1.27,1.51,2.69,2.3,4,1.57,2.59,3.27,5.11,4.68,7.8.7,1.35,1.82,2.51,2.74,3.72.98,1.28,1.94,2.58,2.89,3.88,1.75,2.41,3.46,4.85,5.16,7.3,3.35,4.83,6.66,9.69,10.25,14.34,14.12,18.31,29,36.2,46.18,51.73,15.57,14.07,32.45,26.82,50.78,37.1,18.09,10.15,37.64,17.87,58.03,21.86,10.41,2.03,21.02,3.2,31.63,2.96,10.2-.23,20.39-1.69,30.26-4.27,20.03-5.24,38.61-15.1,54.92-27.76,8.15-6.32,15.56-13.45,22.87-20.7s14.16-14.31,21.28-21.42c13.85-13.84,28.15-27.43,44.42-38.42,16.8-11.36,35.49-19.54,55.59-22.69,20.72-3.24,42.06-1.62,62.22,4.04s39.29,15.37,56.12,27.97c2.09,1.56,4.13,3.17,6.15,4.83,1.91,1.57,3.76,3.73,6.1,4.61,1.06.4,1.81.69,2.68,1.44,1.16,1,2.3,2.01,3.44,3.03,2.11,1.89,4.19,3.82,6.24,5.78,8.17,7.84,15.74,16.28,22.84,25.1,3.7,4.59,7.01,9.5,10.43,14.3s6.58,9.32,9.53,14.21c1.49,2.47,2.9,4.99,4.2,7.56.64,1.27,1.25,2.56,1.84,3.87.28.62.49,1.22.95,1.72.58.63,1.22,1.22,1.83,1.83,1.04,1.04,1.61,2.31,2.29,3.61.72,1.38,1.43,2.77,2.13,4.16,1.37,2.7,2.71,5.4,4.03,8.12,10.38,21.33,19.32,43.32,27.51,65.58,4.16,11.31,8.14,22.68,12.04,34.07,3.27,9.54,6.16,19.2,9.57,28.7,6.72,18.7,14.8,37.1,26.3,53.4,12.17,17.23,28.16,31.62,46.5,42.04s39.77,16.75,61.1,18.8,42.02,1.37,62.67-2.13c20.55-3.48,40.63-10,59.03-19.84,9.42-5.04,18.36-10.96,26.68-17.66,4.13-3.32,7.68-7.4,10.93-11.57s6.18-8.68,8.45-13.5c1.23-2.61,2.29-5.23,2.91-8.06s1.06-5.97,1.26-8.99c.39-5.91-.04-11.83-.57-17.72-.11-1.25-.03-2.72-.44-3.91-.35-1-1.3-1.43-1.8-2.29-.44-.75-.56-1.96-.84-2.81-.38-1.17-.81-2.33-1.27-3.48-1.77-4.32-4.12-8.36-7.21-11.86s-6.95-6.57-11.22-8.36c-5.1-2.14-10.71-2.84-16.19-2.16-2.79.35-5.52,1-8.15,2.01-1.13.43-2.36.86-3.4,1.49-1.12.67-2.15,1.61-3.14,2.46-3.88,3.34-7.12,7.45-9.59,11.93-2.72,4.95-4.34,10.34-5.49,15.85-1.21,5.82-1.83,11.77-1.88,17.71-.11,12.1,2.09,24.18,5.74,35.69,1.65,5.21,4.08,10.25,6.51,15.14s5.03,9.59,7.86,14.2c5.57,9.07,11.94,17.64,18.89,25.7,3.58,4.15,7.32,8.17,11.19,12.06.8.81,1.56,1.37,2.63,1.77.5.19,1.04.3,1.52.54.62.31,1.07.88,1.56,1.36,2.05,1.96,4.13,3.89,6.26,5.78,8.25,7.34,17.02,14.08,26.15,20.29,18.26,12.42,37.9,22.64,57.92,31.87,21.47,9.9,43.39,18.67,65.35,27.42,23.88,9.52,47.8,18.96,71.81,28.13,5.86,2.24,11.75,4.42,17.61,6.67,6.05,2.32,12.01,4.9,18,7.35,11.92,4.88,23.85,9.76,35.77,14.63,11.5,4.7,23.08,9.11,34.27,14.55,2.62,1.27,5.23,2.57,7.84,3.88,1.2.6,2.31,1.18,3.67,1.3.49.04.98-.01,1.47.04.79.08,1.47.45,2.17.78,5.54,2.54,11.08,5.08,16.61,7.63,22.18,10.21,44.31,20.53,66.26,31.22,21.79,10.61,43.41,21.6,64.69,33.21,20.36,11.12,40.41,22.81,59.97,35.28,1.63,1.04,3.14-1.55,1.51-2.59-20.22-12.89-40.96-24.95-62.03-36.4-21.17-11.5-42.66-22.39-64.33-32.92-21.82-10.6-43.82-20.85-65.86-30.99-5.46-2.51-10.91-5.07-16.4-7.53-1.08-.48-2.07-.68-3.26-.7-1.44-.03-2.53-.69-3.8-1.32-2.68-1.34-5.36-2.67-8.05-3.97-11.08-5.35-22.57-9.69-33.94-14.35-11.77-4.81-23.54-9.63-35.31-14.44-6-2.45-11.97-5-18-7.36s-11.75-4.43-17.61-6.66c-23.86-9.11-47.62-18.48-71.35-27.94-21.89-8.72-43.75-17.45-65.17-27.31-19.84-9.13-39.3-19.22-57.43-31.45-9.18-6.19-17.98-12.92-26.26-20.27-2.12-1.88-4.21-3.81-6.26-5.77-.82-.78-1.57-1.64-2.62-2.11s-2.12-.61-2.94-1.41c-3.83-3.72-7.44-7.71-10.94-11.73-7-8.05-13.39-16.63-18.97-25.72-2.83-4.61-5.46-9.35-7.86-14.2s-4.79-9.89-6.42-15.11c-3.58-11.51-5.68-23.52-5.4-35.6.26-11.25,2.24-23.39,8.34-33.04,1.34-2.11,2.86-4.1,4.57-5.93s3.67-3.88,5.86-5.1c4.64-2.59,10.59-3.52,15.83-3.19,5.29.33,10.18,2.17,14.43,5.32,3.67,2.72,6.67,6.28,8.94,10.23,1.14,1.98,2.11,4.06,2.92,6.2.39,1.05.75,2.11,1.07,3.18s.47,2.1,1.2,2.97c.3.36.77.68,1.02,1.07.23.37.21.74.25,1.2.14,1.57.28,3.13.41,4.7.24,2.98.43,5.97.47,8.97s-.07,5.81-.39,8.7-.79,6.06-1.85,8.84c-1.91,5.02-4.57,9.75-7.67,14.13s-6.56,8.41-10.35,12.11c-1.87,1.83-4.1,3.4-6.19,4.98s-4.32,3.19-6.54,4.7c-8.59,5.87-17.71,10.94-27.21,15.18-18.98,8.49-39.44,13.6-60.09,15.81-10.39,1.11-20.86,1.5-31.31,1.25-10.6-.26-21.18-1.12-31.6-3.08-21.15-3.98-41.3-12.18-58.72-24.9-8.44-6.16-16.26-13.08-23.16-20.94s-12.23-15.67-17.18-24.29c-9.85-17.16-16.71-35.81-22.87-54.55-7.17-21.85-14.64-43.6-22.99-65.03-4.25-10.91-8.73-21.74-13.51-32.43-2.41-5.4-4.9-10.76-7.48-16.08-1.32-2.72-2.65-5.42-4.02-8.12-.63-1.25-1.27-2.5-1.91-3.75-.7-1.35-1.29-2.92-2.17-4.16-.79-1.13-2.06-1.88-2.9-2.97-.89-1.14-1.35-2.84-1.99-4.14-1.24-2.53-2.59-5.01-4.02-7.43-2.93-4.97-6.21-9.72-9.55-14.43s-6.57-9.57-10.16-14.09-7.18-8.81-10.97-13.06-7.45-8.09-11.37-11.94c-2.01-1.97-4.05-3.9-6.12-5.8s-4.24-4.02-6.54-5.77c-.88-.67-1.92-.87-2.92-1.29-1.09-.46-1.98-1.51-2.88-2.27-1.98-1.68-4.01-3.31-6.06-4.9-4.15-3.21-8.42-6.25-12.83-9.1-17.42-11.24-36.86-19.51-57.18-23.72-20.47-4.25-41.74-4.33-62.16.24s-37.45,13.84-53.39,25.54-29.76,25.3-43.5,39.16-28.09,29.44-44.59,41.27-35.49,20.82-55.6,24.94c-20.48,4.2-41.46,2.85-61.68-2.14-20.13-4.97-39.2-13.51-56.85-24.32-17.78-10.9-34.12-24.04-49.2-38.41-8.37-7.97-16-16.68-23.36-25.57s-15.05-18.2-21.8-27.86c-3.48-4.98-6.88-10.02-10.5-14.89-.85-1.15-1.72-2.29-2.6-3.42-1.01-1.3-1.78-2.63-2.6-4.04-1.49-2.57-3.16-5.02-4.62-7.6-2.97-5.22-6.73-10.07-10.16-15.01-1.7-2.45-3.54-4.85-5.15-7.36-1.47-2.31-2.89-4.65-4.33-6.98-11.38-18.38-22.6-36.86-34.43-54.95s-23.66-34.9-37-51.22-28.45-32.18-44.74-46.17c-16.38-14.06-34.19-26.72-52.86-37.55s-38.18-19.52-58.68-25.73c-2.58-.78-5.18-1.53-7.79-2.23-1.31-.35-2.63-.7-3.95-1.03-1.08-.27-2.07-.39-3-.97-.8-.5-1.57-1.15-2.49-1.42-1.38-.4-2.83-.68-4.23-1.02-3.03-.73-6.07-1.42-9.12-2.08-12.19-2.64-24.51-4.71-36.91-6.09C48.72-.75,24.76-.7,1.09,2.5.28,2.61-.14,3.64.04,4.34c.23.87,1.05,1.16,1.85,1.05h0Z`;

    return (
        <div
            ref={ref}
            className="hidden lg:block absolute inset-0 w-full h-full overflow-hidden pointer-events-none"
            style={{
                zIndex: 5,
                transform: "scaleX(-1)" // ðŸŽ¯ SPIEGELUNG!
            }}
        >
            <svg
                className="absolute inset-0 w-full h-full"
                viewBox="0 0 1927.98 952.82"
                preserveAspectRatio="xMidYMid slice"
                style={{
                    width: '200%',
                    height: '200%',
                    left: '-50%',
                    top: '-50%'
                }}
            >
                <motion.path
                    d={pathData}
                    stroke="#BBF451"
                    strokeWidth="12"
                    fill="none"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    style={{
                        pathLength,
                        opacity: 0.8,
                        filter: 'drop-shadow(0 4px 12px rgba(187, 244, 81, 0.3))'
                    }}
                />
            </svg>
        </div>
    );
};

export default CardFlowLineMirrored;