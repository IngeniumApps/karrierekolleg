---
import { colleges } from '../../constants/colleges';
import CollegeCard from '../CollegeCard';
const { id } = Astro.props;

// Themengruppen
const groupedColleges = {
  "Technik & Informatik (Tageskolleg)": colleges.filter(
      (c) => (c.topic === "Technik" || c.topic === "Informatik") && c.mode === "Tageskolleg"
  ),
  "Technik & Informatik (Abendkolleg)": colleges.filter(
      (c) => (c.topic === "Technik" || c.topic === "Informatik") && c.mode === "Abendkolleg"
  ),
  "Design": colleges.filter((c) => c.topic === "Design" || c.topic === "Kunst und Design"),
  "Bau & Architektur": colleges.filter((c) => c.topic === "Bau & Architektur" || c.topic === "Bautechnik"),
  "Naturwissenschaft": colleges.filter((c) => c.topic === "Naturwissenschaft"),
};

type Topic =
    | "Technik & Informatik (Tageskolleg)"
    | "Technik & Informatik (Abendkolleg)"
    | "Design"
    | "Bau & Architektur"
    | "Naturwissenschaft";

const topicColors: Record<Topic, string> = {
  "Technik & Informatik (Tageskolleg)": "primary",
  "Technik & Informatik (Abendkolleg)": "primary",
  "Design": "pink",
  "Bau & Architektur": "orange",
  "Naturwissenschaft": "red",
};
---

<section id={id} class="relative py-32 px-6 overflow-hidden">
  <!-- ðŸ”® Radialer Farbverlauf -->
  <div class="absolute inset-0 z-0" style="background: radial-gradient(ellipse at top right, #1b95cc44, transparent 90%); will-change: transform;"></div>

  <!-- ðŸ§Š Glass-Overlay -->
  <div class="absolute inset-0 z-0 backdrop-glass"></div>

  <!-- ðŸ”² Inhalt -->
  <div class="relative z-10 max-w-screen-xl mx-auto text-center">
    <h2 class="text-4xl sm:text-5xl font-headline font-bold text-primary mb-4">
      Kollegs entdecken
    </h2>
    <p class="text-lg text-gray-600 mb-16 max-w-2xl mx-auto">
      In ganz Ã–sterreich findest du Kollegs fÃ¼r Technik, Design und mehr â€“ entdecke, was zu dir passt.
    </p>

    <!-- ðŸ“š Thematisch gegliederte Sections -->
    {
      Object.entries(groupedColleges)
          .sort(([a], [b]) => a.localeCompare(b))
          .map(([topic, list]) => (
          <div class="text-left mb-28" id={topic.toLowerCase().replace(/ /g, '-')}>
            <!-- ðŸ· Ãœberschrift -->
            <h3 class="text-3xl font-bold mb-2">
              {topic}
            </h3>

            <!-- ðŸ“ Einleitung -->
            <p class="text-gray-600 mb-10 max-w-3xl">
              {
                topic === 'Technik & Informatik (Tageskolleg)'
                    ? 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
                    : topic === 'Technik & Informatik (Abendkolleg)'
                        ? 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
                        : topic === 'Design' ? 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
                        : topic === 'Bau & Architektur' ? 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
                            : topic === 'Naturwissenschaft' ? 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
                                : 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.'
              }
            </p>

            <!-- ðŸ’  Grid der Cards -->
            <div class="grid gap-12 sm:grid-cols-2 lg:grid-cols-3">
              {
                list.map((colleg) => (
                    <CollegeCard client:load {...colleg} />
                ))
              }
            </div>
          </div>
      ))
    }
  </div>
</section>